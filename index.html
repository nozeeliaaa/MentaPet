<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MentaPet â€” Choose Your Pet</title>
  <link rel="stylesheet" href="style.css" />

  <!-- Lottie (optional if you use animations elsewhere) -->
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

  <!-- Auth helpers -->
  <script src="auth.js" defer></script>
</head>
<body class="mood-calm">
  <script>
    // Protect this page (redirects if not logged in)
    document.addEventListener('DOMContentLoaded', requireAuth);
  </script>

  <header class="topbar">
    <h1>ğŸ¾ MentaPet</h1>
    <p class="tagline">Choose your mindful companion</p>
  </header>

  <main class="select-grid" id="main" tabindex="-1">

    <!-- Nova the Cat -->
    <button class="pet-card" data-pet="nova" aria-label="Choose Nova the cat">
      <iframe src="cat.html" style="width:200px; height:200px; border:none;"></iframe>
      <div class="pet-name">Nova ğŸ±</div>
      <div class="pet-desc">Witty & calm</div>
    </button>

    <!-- Lumi the Dog -->
    <button class="pet-card" data-pet="lumi" aria-label="Choose Lumi the dog">
      <iframe src="dog.html" style="width:200px; height:200px; border:none;"></iframe>
      <div class="pet-name">Lumi ğŸ¶</div>
      <div class="pet-desc">Loyal & uplifting</div>
    </button>

    <!-- Bub the Panda -->
    <button class="pet-card" data-pet="bub" aria-label="Choose Bub the panda">
      <iframe src="panda.html" style="width:200px; height:200px; border:none;"></iframe>
      <div class="pet-name">Bub ğŸ¼</div>
      <div class="pet-desc">Gentle & cheerful</div>
    </button>

  </main>

  <footer class="footer">
    <button id="contrastBtn" class="ghost small">High Contrast</button>
    <button onclick="logout()" class="ghost small" style="margin-left:8px;">Logout</button>
  </footer>

  <script>
    // ğŸ¾ Pet selection â†’ save choice â†’ go to room
    document.querySelectorAll('.pet-card').forEach(btn => {
      btn.addEventListener('click', () => {
        localStorage.setItem('mentapet:pet', btn.dataset.pet);
        window.location.href = 'room.html';
      });
    });

    // â™¿ High contrast toggle
    document.getElementById('contrastBtn').addEventListener('click', () => {
      document.body.classList.toggle('a11y-contrast');
    });
  </script>
</body>
</html>